/*!
**  Ducky -- Duck-Typed Value Handling for JavaScript
**  Copyright (c) 2010-2017 Ralf S. Engelschall <rse@engelschall.com>
**
**  Permission is hereby granted, free of charge, to any person obtaining
**  a copy of this software and associated documentation files (the
**  "Software"), to deal in the Software without restriction, including
**  without limitation the rights to use, copy, modify, merge, publish,
**  distribute, sublicense, and/or sell copies of the Software, and to
**  permit persons to whom the Software is furnished to do so, subject to
**  the following conditions:
**
**  The above copyright notice and this permission notice shall be included
**  in all copies or substantial portions of the Software.
**
**  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Ducky = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var version={major:2,minor:6,micro:0,date:20170618};exports.version=version;
},{}],2:[function(_dereq_,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),Token=function(){function e(){_classCallCheck(this,e),this.name="",this.text="",this.tokens=[],this.pos=0,this.len=0}return _createClass(e,[{key:"setName",value:function(e){this.name=e}},{key:"setText",value:function(e){this.text=e}},{key:"addToken",value:function(e,t,s,n,o){this.tokens.push({b1:e,b2:t,e2:s,e1:n,symbol:o}),this.len++}},{key:"peek",value:function(e){if(void 0===e&&(e=0),e>=this.len)throw new Error(this.name+": parse error: not enough tokens");return this.tokens[this.pos+e].symbol}},{key:"skip",value:function(e){if(void 0===e&&(e=1),e>this.len)throw new Error(this.name+": parse error: not enough tokens available to skip: "+this.ctx());this.pos+=e,this.len-=e}},{key:"consume",value:function(e){if(this.len<=0)throw new Error(this.name+": parse error: no more tokens available to consume: "+this.ctx());if(this.tokens[this.pos].symbol!==e)throw new Error(this.name+': parse error: expected token symbol "'+e+'": '+this.ctx());this.pos++,this.len--}},{key:"ctx",value:function(e){void 0===e&&(e=78);var t=this.tokens[this.pos],s="<"+this.text.substr(t.b2,t.e2-t.b2+1)+">";s=this.text.substr(t.b1,t.b2-t.b1)+s,s+=this.text.substr(t.e2+1,t.e1-t.e2);var n=e-s.length;if(n>0){n=Math.floor(n/2);var o=void 0,i=void 0;if(this.pos>0){var r=0;for(o=this.pos-1;o>=0&&(t=this.tokens[o],i=this.text.substr(t.b1,t.e1-t.b1+1),r+=i.length,!(r>n));o--)s=i+s;o>0&&(s="[...]"+s)}if(this.len>1){var h=0;for(o=this.pos+1;o<this.pos+this.len&&(t=this.tokens[o],i=this.text.substr(t.b1,t.e1-t.b1+1),h+=i.length,!(h>n));o++)s+=i;o<this.pos+this.len&&(s+="[...]")}}return s=s.replace(/\r/,"\\r").replace(/\n/,"\\n").replace(/\t/,"\\t")}}]),e}();exports.Token=Token;
},{}],3:[function(_dereq_,module,exports){
(function (global){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});for(var registry={},std_types=["Object","Boolean","Number","String","Function","RegExp","Array","Date","Error","Set","Map","WeakMap","Promise","Proxy","Iterator"],i=0;i<std_types.length;i++)"function"==typeof global[std_types[i]]&&(registry[std_types[i]]=global[std_types[i]]);exports.registry=registry;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],4:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unregister=exports.register=exports.registered=void 0;var _ducky2Registry1Data=_dereq_("./ducky-2-registry-1-data.js"),register=function(e,r){if(2!==arguments.length)throw new Error("register: invalid number of arguments: "+arguments.length+" (exactly 2 expected)");if("string"!=typeof e)throw new Error('register: invalid name argument: "'+e+'" (string expected)');if("function"!=typeof r)throw new Error('register: invalid type argument: "'+r+'" (function object expected)');if(void 0!==_ducky2Registry1Data.registry[e])throw new Error('register: type already registered under name: "'+e+'"');_ducky2Registry1Data.registry[e]=r},unregister=function(e){if(1!==arguments.length)throw new Error("unregister: invalid number of arguments: "+arguments.length+" (exactly 1 expected)");if("string"!=typeof e)throw new Error('unregister: invalid name argument: "'+e+'" (string expected)');if(void 0===_ducky2Registry1Data.registry[e])throw new Error('unregister: no type registered under name: "'+e+'"');delete _ducky2Registry1Data.registry[e]},registered=function(e){if(1!==arguments.length)throw new Error("registered: invalid number of arguments: "+arguments.length+" (exactly 1 expected)");if("string"!=typeof e)throw new Error('registered: invalid name argument: "'+e+'" (string expected)');return _ducky2Registry1Data.registry[e]};exports.registered=registered,exports.register=register,exports.unregister=unregister;
},{"./ducky-2-registry-1-data.js":3}],5:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var select_compile=function(e){for(var s=[],l=0,r=void 0,t=e;""!==t;){if(null!==(r=t.match(/^\s*(?:\.)?\s*([a-zA-Z$0-9_][a-zA-Z$0-9_:-]*)/)))s.push(r[1]);else if(null!==(r=t.match(/^\s*\[\s*(\d+|\*{1,2})\s*\]/)))s.push(r[1]);else if(null!==(r=t.match(/^\s*\[\s*"((?:\\"|.)*?)"\s*\]/)))s.push(r[1].replace(/\\"/g,'"'));else{if(null===(r=t.match(/^\s*\[\s*'((?:\\'|.)*?)'\s*\]/))){if(null!==(r=t.match(/^\s+$/)))break;throw new Error("select: parse error: invalid character at: "+e.substr(0,l)+"<"+t.substr(0,1)+">"+t.substr(1))}s.push(r[1].replace(/\\'/g,"'"))}l+=r[0].length,t=t.substr(r[0].length)}return s};exports.select_compile=select_compile;
},{}],6:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},select_execute=function(e,t){if(0===t.length){if(3===arguments.length)throw new Error("select: cannot set value on empty path");return e}for(var o=0;o<t.length-1;){if("object"!==(void 0===e?"undefined":_typeof(e)))throw new Error("select: cannot further dereference: no more intermediate objects in path");e=e[t[o++]]}if("object"!==(void 0===e?"undefined":_typeof(e)))throw new Error("select: cannot further dereference: no object at end of path");var r=e[t[o]];if(3===arguments.length){var n=arguments[2];void 0===n?e instanceof Array?e.splice(parseInt(t[o],10),1):delete e[t[o]]:e[t[o]]=n}return r};exports.select_execute=select_execute;
},{}],7:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.select=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_ducky3Select1Compile=_dereq_("./ducky-3-select-1-compile.js"),_ducky3Select2Execute=_dereq_("./ducky-3-select-2-execute.js"),select_cache={},select=function(e,t,c){if(arguments.length<2)throw new Error("select: invalid number of arguments: "+arguments.length+" (minimum of 2 expected)");if(arguments.length>3)throw new Error("select: invalid number of arguments: "+arguments.length+" (maximum of 3 expected)");if("string"!=typeof t)throw new Error('select: invalid specification argument: "'+t+'" (string expected)');var r=select_cache[t];return void 0===r&&(r=(0,_ducky3Select1Compile.select_compile)(t),select_cache[t]=r),2===arguments.length?(0,_ducky3Select2Execute.select_execute)(e,r):(0,_ducky3Select2Execute.select_execute)(e,r,c)};select.compile=function(e){if(1!==arguments.length)throw new Error("select: invalid number of arguments: "+arguments.length+" (exactly 1 expected)");if("string"!=typeof e)throw new Error('select: invalid specification argument: "'+e+'" (string expected)');return _ducky3Select1Compile.select_compile.apply(void 0,arguments)},select.execute=function(e,t){if(arguments.length<2)throw new Error("select: invalid number of arguments: "+arguments.length+" (minimum of 2 expected)");if(arguments.length>3)throw new Error("select: invalid number of arguments: "+arguments.length+" (maximum of 3 expected)");if(!("object"===(void 0===t?"undefined":_typeof(t))&&t instanceof Array))throw new Error('select: invalid path argument: "'+t+'" (array expected)');return _ducky3Select2Execute.select_execute.apply(void 0,arguments)},exports.select=select;
},{"./ducky-3-select-1-compile.js":5,"./ducky-3-select-2-execute.js":6}],8:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validate_tokenize=void 0;var _ducky1Util=_dereq_("./ducky-1-util.js"),validate_tokenize=function(e){var t=new _ducky1Util.Token;t.setName("validate"),t.setText(e);for(var n=void 0,r=0;""!==e;){if(n=e.match(/^(\s*)([^{}\[\]:,?*+()!|\/\s]+|[{}\[\]:,?*+()!|\/])(\s*)/),null===n)throw new Error('validate: parse error: cannot further canonicalize: "'+e+'"');t.addToken(r,r+n[1].length,r+n[1].length+n[2].length-1,r+n[0].length-1,n[2]),e=e.substr(n[0].length),r+=n[0].length}return t.addToken(r,r,r,r,null),t};exports.validate_tokenize=validate_tokenize;
},{"./ducky-1-util.js":2}],9:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var validate_parse={parse:function(e){if(e.len<=0)return null;var r=this.parse_spec(e);if(null!==e.peek())throw new Error('validate: parse error: unexpected token (expected end-of-string): "'+e.ctx()+'"');return r},parse_spec:function(e){if(e.len<=0)return null;var r=void 0,a=e.peek();if("!"===a)r=this.parse_not(e);else if("("===a)r=this.parse_group(e);else if("{"===a)r=this.parse_hash(e);else if("["===a)r=this.parse_array(e);else if("/"===a)r=this.parse_regexp(e);else if(a.match(/^(?:null|undefined|boolean|number|string|function|object)$/))r=this.parse_primary(e);else if("any"===a)r=this.parse_any(e);else{if(!a.match(/^[_a-zA-Z$][_a-zA-Z$0-9]*(?:\.[_a-zA-Z$][_a-zA-Z$0-9]*)*$/))throw new Error('validate: parse error: invalid token symbol: "'+e.ctx()+'"');r=this.parse_class(e)}return r},parse_not:function(e){e.consume("!");var r=this.parse_spec(e);return r={type:"not",op:r}},parse_group:function(e){e.consume("(");for(var r=this.parse_spec(e);"|"===e.peek();){e.consume("|");r={type:"or",op1:r,op2:this.parse_spec(e)}}return e.consume(")"),r},parse_hash:function(e){e.consume("{");for(var r=[];"}"!==e.peek();){var a=this.parse_key(e),s=this.parse_arity(e,"?");e.consume(":");var p=this.parse_spec(e);if(r.push({type:"element",key:a,arity:s,element:p}),","!==e.peek())break;e.skip()}var t={type:"hash",elements:r};return e.consume("}"),t},parse_array:function(e){e.consume("[");for(var r=[];"]"!==e.peek();){var a=this.parse_spec(e),s=this.parse_arity(e,"?*+");if(r.push({type:"element",element:a,arity:s}),","!==e.peek())break;e.skip()}var p={type:"array",elements:r};return e.consume("]"),p},parse_regexp:function(e){e.consume("/");for(var r="";e.len>=1&&"/"!==e.peek(0);)e.len>=2&&"\\"===e.peek(0)&&"/"===e.peek(1)?(r+=e.peek(1),e.skip(2)):(r+=e.peek(0),e.skip(1));e.consume("/");var a=void 0;try{a=new RegExp(r)}catch(e){throw new Error('validate: parse error: invalid regular expression "'+r+'": '+e.message)}return{type:"regexp",regexp:a}},parse_primary:function(e){var r=e.peek();if(!r.match(/^(?:null|undefined|boolean|number|string|function|object)$/))throw new Error('validate: parse error: invalid primary type "'+r+'"');return e.skip(),{type:"primary",name:r}},parse_any:function(e){var r=e.peek();if("any"!==r)throw new Error('validate: parse error: invalid any type "'+r+'"');return e.skip(),{type:"any"}},parse_class:function(e){var r=e.peek();if(!r.match(/^[_a-zA-Z$][_a-zA-Z$0-9]*(?:\.[_a-zA-Z$][_a-zA-Z$0-9]*)*$/))throw new Error('validate: parse error: invalid class type "'+r+'"');return e.skip(),{type:"class",name:r}},parse_arity:function(e,r){var a=[1,1];if(e.len>=5&&"{"===e.peek(0)&&e.peek(1).match(/^[0-9]+$/)&&","===e.peek(2)&&e.peek(3).match(/^(?:[0-9]+|oo)$/)&&"}"===e.peek(4))a=[parseInt(e.peek(1),10),"oo"===e.peek(3)?Number.MAX_VALUE:parseInt(e.peek(3),10)],e.skip(5);else if(e.len>=3&&"{"===e.peek(0)&&e.peek(1).match(/^[0-9]+$/)&&"}"===e.peek(2))a=[parseInt(e.peek(1),10),parseInt(e.peek(1),10)],e.skip(3);else if(e.len>=1&&1===e.peek().length&&r.indexOf(e.peek())>=0){var s=e.peek();switch(s){case"?":a=[0,1];break;case"*":a=[0,Number.MAX_VALUE];break;case"+":a=[1,Number.MAX_VALUE]}e.skip()}return a},parse_key:function(e){var r=e.peek();if(!r.match(/^(?:[_a-zA-Z$][_a-zA-Z$0-9]*|@)$/))throw new Error('validate: parse error: invalid key "'+r+'"');return e.skip(),r}};exports.validate_parse=validate_parse;
},{}],10:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validate_execute=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_slicedToArray=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_ducky2Registry2Api=_dereq_("./ducky-2-registry-2-api.js"),errCtx=function(e,t){return""===e?"mismatch at root-level: "+t:'mismatch at path "'+e+'": '+t},validate_execute={exec_spec:function(e,t,r,n){var o=!1;if(null!==t)switch(t.type){case"not":o=this.exec_not(e,t,r,n);break;case"or":o=this.exec_or(e,t,r,n);break;case"hash":o=this.exec_hash(e,t,r,n);break;case"array":o=this.exec_array(e,t,r,n);break;case"regexp":o=this.exec_regexp(e,t,r,n);break;case"primary":o=this.exec_primary(e,t,r,n);break;case"class":o=this.exec_class(e,t,r,n);break;case"any":o=!0;break;default:throw new Error('validate: invalid validation AST: node has unknown type "'+t.type+'"')}return o},exec_not:function(e,t,r,n){var o=null!==n?[]:null,a=this.exec_spec(e,t.op,r,o);return a=!a,a||null===n||o.forEach(function(e){return n.push(e)}),a},exec_or:function(e,t,r,n){var o=null!==n?[[],[]]:[null,null],a=_slicedToArray(o,2),l=a[0],u=a[1],i=this.exec_spec(e,t.op1,r,l),c=this.exec_spec(e,t.op2,r,u),s=i||c;return s||null===n||(l.forEach(function(e){return n.push(e)}),u.forEach(function(e){return n.push(e)})),s},exec_hash:function(e,t,r,n){var o=void 0,a=void 0,l="object"===(void 0===e?"undefined":_typeof(e))&&null!==e,u={},i=void 0;if(l||null===n){if(l){var c=!1;for(i in e)if(Object.hasOwnProperty.call(e,i)&&Object.propertyIsEnumerable.call(e,i)&&"constructor"!==i&&"prototype"!==i){c=!0;break}for(o=0;o<t.elements.length;o++)if(a=t.elements[o],u[a.key]=a.element,a.arity[0]>0&&("@"===a.key&&!c||"@"!==a.key&&void 0===e[a.key])){if(l=!1,null===n)break;"@"===a.key?n.push(errCtx(r,"mandatory element under arbitrary key not found")):n.push(errCtx(r,'mandatory element under key "'+a.key+'" not found'))}}}else null===e?n.push('mismatch at path "'+r+'": found "null", expected hash'):n.push('mismatch at path "'+r+'": found type "'+(void 0===e?"undefined":_typeof(e))+'", expected hash');if(l||null!==n){var s=""!==r?".":"";for(i in e)if(Object.hasOwnProperty.call(e,i)&&Object.propertyIsEnumerable.call(e,i)&&"constructor"!==i&&"prototype"!==i&&(void 0===u[i]&&void 0===u["@"]&&null!==n&&n.push(errCtx(r,'element under key "'+i+'" unexpected')),!(void 0!==u[i]&&this.exec_spec(e[i],u[i],""+r+s+i,n)||void 0!==u["@"]&&this.exec_spec(e[i],u["@"],""+r+s+i,n)||(l=!1,null!==n))))break}return l},exec_array:function(e,t,r,n){var o=void 0,a=void 0,l="object"===(void 0===e?"undefined":_typeof(e))&&e instanceof Array;if(l||null===n){if(l){var u=0,i=null;for(o=0;o<t.elements.length;o++){a=t.elements[o];var c=0;for(i=null!==n?[]:null;c<a.arity[1]&&u<e.length&&this.exec_spec(e[u],a.element,r+"["+u+"]",i);)c++,u++;if(c<a.arity[0]){null!==n&&n.push(errCtx(r+"["+u+"]","found only "+c+" elements of array element type #"+o+", expected at least "+a.arity[0]+" elements")),l=!1;break}}!l&&null!==i&&i.length>0?null!==n&&i.forEach(function(e){return n.push(e)}):u<e.length&&(null!==n&&n.push(errCtx(r,"matched only "+u+" elements, but "+e.length+" elements found")),l=!1)}}else n.push(errCtx(r,'found type "'+(void 0===e?"undefined":_typeof(e))+'", expected array'));return l},exec_regexp:function(e,t,r,n){var o=t.regexp.test(e.toString());return o||null===n||n.push(errCtx(r,"value failed to match regular expression "+t.regexp.toString())),o},exec_primary:function(e,t,r,n){var o="null"===t.name&&null===e||(void 0===e?"undefined":_typeof(e))===t.name;return o||null===n||n.push(errCtx(r,'found type "'+(void 0===e?"undefined":_typeof(e))+'", expected primary type "'+t.name+'"')),o},exec_class:function(e,t,r,n){var o=(0,_ducky2Registry2Api.registered)(t.name),a="object"===(void 0===e?"undefined":_typeof(e))&&(Object.prototype.toString.call(e)==="[object "+t.name+"]"||"function"==typeof o&&e instanceof o);return a||null===n||n.push(errCtx(r,'found type "'+(void 0===e?"undefined":_typeof(e))+'", expected class type "'+t.name+'"')),a}};exports.validate_execute=validate_execute;
},{"./ducky-2-registry-2-api.js":4}],11:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validate=void 0;var _ducky4Validate1Tokenize=_dereq_("./ducky-4-validate-1-tokenize.js"),_ducky4Validate2Parse=_dereq_("./ducky-4-validate-2-parse.js"),_ducky4Validate3Execute=_dereq_("./ducky-4-validate-3-execute.js"),validate_cache={},validate=function e(t,a,i){if(arguments.length<2)throw new Error("validate: invalid number of arguments: "+arguments.length+" (minimum of 2 expected)");if(arguments.length>3)throw new Error("validate: invalid number of arguments: "+arguments.length+" (maximum of 3 expected)");if("string"!=typeof a)throw new Error('validate: invalid specification argument: "'+a+'" (string expected)');var r=validate_cache[a];return void 0===r&&(r=e.compile(a),validate_cache[a]=r),e.execute(t,r,i)};validate.compile=function(e){if(1!==arguments.length)throw new Error("validate: invalid number of arguments: "+arguments.length+" (exactly 1 expected)");if("string"!=typeof e)throw new Error('validate: invalid specification argument: "'+e+'" (string expected)');var t=(0,_ducky4Validate1Tokenize.validate_tokenize)(e);return _ducky4Validate2Parse.validate_parse.parse(t)},validate.execute=function(e,t,a){if(arguments.length<2)throw new Error("validate: invalid number of arguments: "+arguments.length+" (minimum of 2 expected)");if(arguments.length>3)throw new Error("validate: invalid number of arguments: "+arguments.length+" (maximum of 3 expected)");return(arguments.length<3||void 0===a)&&(a=null),_ducky4Validate3Execute.validate_execute.exec_spec(e,t,"",a)},exports.validate=validate;
},{"./ducky-4-validate-1-tokenize.js":8,"./ducky-4-validate-2-parse.js":9,"./ducky-4-validate-3-execute.js":10}],12:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.params=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_ducky4Validate4Api=_dereq_("./ducky-4-validate-4-api.js"),params_is_name_based=function(r,e){var a=!1;if(1===r.length&&"object"===_typeof(r[0])){a=!0;for(var o in r[0])Object.hasOwnProperty.call(r[0],o)||void 0===e[o]&&(a=!1)}return a},params_check_validity=function(r,e,a,o,t){if(void 0!==o&&!(0,_ducky4Validate4Api.validate)(a,o))throw new Error(r+': parameter "'+e+'" has '+t+" "+JSON.stringify(a)+', which does not validate against "'+o+'"')},params=function r(e,a,o){var r={},t=void 0;for(t in o)Object.hasOwnProperty.call(o,t)&&void 0!==o[t].def&&(void 0!==o[t].valid&&params_check_validity(e,t,o[t].def,o[t].valid,"default value"),r[t]=o[t].def);if(params_is_name_based(a,o)){a=a[0];for(t in a)if(Object.hasOwnProperty.call(a,t)){if(void 0===o[t])throw new Error(e+': unknown parameter "'+t+'"');params_check_validity(e,t,a[t],o[t].valid,"value"),r[t]=a[t]}for(t in o)if(Object.hasOwnProperty.call(o,t)&&void 0!==o[t].req&&o[t].req&&void 0===a[t])throw new Error(e+': required parameter "'+t+'" missing')}else{var i=0,n=0,l={};for(t in o)Object.hasOwnProperty.call(o,t)&&void 0!==o[t].pos&&(l[o[t].pos]=t,"number"==typeof o[t].pos&&i++,void 0!==o[t].req&&o[t].req&&n++);if(a.length<n)throw new Error(e+": invalid number of arguments (at least "+n+" required)");for(var d=0;d<i&&d<a.length;)params_check_validity(e,l[d],a[d],o[l[d]].valid,"value"),r[l[d]]=a[d],d++;if(d<a.length){if(void 0===l["..."])throw new Error(e+": too many arguments provided");for(var s=[];d<a.length;)s.push(a[d++]);params_check_validity(e,l["..."],s,o[l["..."]].valid,"value"),r[l["..."]]=s}}return r};exports.params=params;
},{"./ducky-4-validate-4-api.js":11}],13:[function(_dereq_,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.options=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_ducky3Select3Api=_dereq_("./ducky-3-select-3-api.js"),_ducky4Validate4Api=_dereq_("./ducky-4-validate-4-api.js"),options=function(e,o){var t={},i=[],n=[];!function o(r){var a=(0,_ducky3Select3Api.select)(e,r.join("."));if("object"!==(void 0===a?"undefined":_typeof(a))||a instanceof Array||null===a){if(!("object"===(void 0===a?"undefined":_typeof(a))&&a instanceof Array&&null!==a))throw new Error('options: invalid option specification at "'+r+'" (expected object or array)');if(a.length<0||a.length>2)throw new Error('options: invalid option specification at "'+r.join(".")+'" (expected array of length 1 or 2)');if("string"!=typeof a[0])throw new Error('options: invalid option specification at "'+r.join(".")+'[0]" (expected type string)');for(var c=t,p=0;p<r.length-1;)"object"!==_typeof(c[r[p]])&&(c[r[p]]={}),c=c[r[p]],p++;if(2===a.length){var l=[];if(!(0,_ducky4Validate4Api.validate)(a[1],a[0],l))throw new Error('options: invalid option specification at "'+r.join(".")+'" (validation does not match default value): '+l.join("; "));c[r[p]]=a[1],n.push(r.join("."))}else i.push(r.join("."))}else for(var f in a)Object.hasOwnProperty.call(a,f)&&o(r.concat(f))}([]);var r=!0,a=function(o){var t=this;if(r){r=!1;for(var n=0;n<i.length;n++)if(void 0===(0,_ducky3Select3Api.select)(o,i[n]))throw new Error('options: required value for option "'+i[n]+'" missing')}return function o(i,n){var r=(0,_ducky3Select3Api.select)(e,i);if("object"!==(void 0===r?"undefined":_typeof(r)))throw new Error('options: value provided for unknown option "'+i+'" (invalid path)');if(r instanceof Array){var a=[];if(!(0,_ducky4Validate4Api.validate)(n,r[0],a))throw new Error('options: invalid value for option "'+i+'": '+a.join("; "));(0,_ducky3Select3Api.select)(t,i,n)}else for(var c in n)Object.hasOwnProperty.call(n,c)&&o(""===i?c:i+"."+c,n[c])}("",o),this};return Object.defineProperty(t,"merge",{configurable:!1,enumerable:!1,writable:!1,value:a}),"object"===(void 0===o?"undefined":_typeof(o))&&null!==o&&t.merge(o),t};exports.options=options;
},{"./ducky-3-select-3-api.js":7,"./ducky-4-validate-4-api.js":11}],14:[function(_dereq_,module,exports){
"use strict";var _ducky0Version=_dereq_("./ducky-0-version.js"),_ducky2Registry2Api=_dereq_("./ducky-2-registry-2-api.js"),_ducky3Select3Api=_dereq_("./ducky-3-select-3-api.js"),_ducky4Validate4Api=_dereq_("./ducky-4-validate-4-api.js"),_ducky5Params=_dereq_("./ducky-5-params.js"),_ducky6Options=_dereq_("./ducky-6-options.js");module.exports={version:_ducky0Version.version,register:_ducky2Registry2Api.register,unregister:_ducky2Registry2Api.unregister,select:_ducky3Select3Api.select,validate:_ducky4Validate4Api.validate,params:_ducky5Params.params,options:_ducky6Options.options};
},{"./ducky-0-version.js":1,"./ducky-2-registry-2-api.js":4,"./ducky-3-select-3-api.js":7,"./ducky-4-validate-4-api.js":11,"./ducky-5-params.js":12,"./ducky-6-options.js":13}]},{},[14])(14)
});


//# sourceMappingURL=ducky.browser.map